@page "/"
@inherits HomePage
@using Dima.Web.Components.Reports

<PageTitle>Dima | Home</PageTitle>

<MudGrid Justify="Justify.Center">
    <MudItem lg="6" md="12" sm="12">
        <MudCard Class="pa-8">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6">Resumo Financeiro</MudText>
                </CardHeaderContent>
                <CardHeaderActions>
                    <MudIconButton OnClick="ToggleShowValues"
                                   Icon="@(ShowValues ? Icons.TwoTone.VisibilityOff : Icons.TwoTone.Visibility)" />
                </CardHeaderActions>
            </MudCardHeader>
            <MudCardContent Style="height: 455px">
                <p>
                    <strong>SALDO</strong>
                </p>
                @if (FinancialSummary != null)
                {
                    @if (FinancialSummary.Total > 0)
                    {
                        <MudText Color="Color.Success" Typo="Typo.h3">
                            @(ShowValues ? FinancialSummary.Total.ToString("C") : "R$ *****")
                        </MudText>
                    }
                    else
                    {
                        <MudText Color="Color.Error" Typo="Typo.h3">
                            @(ShowValues ? FinancialSummary.Total.ToString("C") : "R$ *****")
                        </MudText>
                    }
                    <br />
                    <p><strong>Entradas</strong></p>
                    <MudText Color="Color.Success" Typo="Typo.h5">
                        @(ShowValues ? FinancialSummary.Incomes.ToString("C") : "R$ *****")
                    </MudText>
                    <br />
                    <p><strong>Saídas</strong></p>
                    <MudText Color="Color.Error" Typo="Typo.h5">
                        @(ShowValues ? FinancialSummary.Expenses.ToString("C") : "R$ *****")
                    </MudText>
                }
                else
                {
                    <div class="d-flex align-center justify-center" style="height: 350px">
                        <MudProgressCircular Indeterminate="true" Color="Color.Primary" />
                    </div>
                }
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem lg="6" md="12" sm="12">
        <MudCard Class="pa-8">
            <MudCardHeader>
                <MudText Typo="Typo.h6">Receitas e Despesas</MudText>
            </MudCardHeader>
            <MudCardContent>
                <IncomesAndExpenses />
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem lg="6" md="12" sm="12">
        <MudCard Class="pa-8">
            <MudCardHeader>
                <MudText Typo="Typo.h6">Entradas por Categoria</MudText>
            </MudCardHeader>
            <MudCardContent>
                <IncomesByCategoryChart />
            </MudCardContent>
        </MudCard>
    </MudItem>
    <MudItem lg="6" md="12" sm="12">
        <MudCard Class="pa-8">
            <MudCardHeader>
                <MudText Typo="Typo.h6">Despesas por Categoria</MudText>
            </MudCardHeader>
            <MudCardContent>
                <ExpensesByCategoryChart />
            </MudCardContent>
        </MudCard>
    </MudItem>
</MudGrid>
